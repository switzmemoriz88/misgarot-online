# ğŸ¨ Misgarot Online - ××¡×’×¨×•×ª ××•× ×œ×™×™×Ÿ

××¢×¨×›×ª SaaS ××§×¦×•×¢×™×ª ×œ×¢×™×¦×•×‘ ××¡×’×¨×•×ª ××’× ×˜×™× ×œ×¦×œ××™ ××™×¨×•×¢×™×.

![Version](https://img.shields.io/badge/version-1.0.0-blue)
![License](https://img.shields.io/badge/license-MIT-green)

## âœ¨ ×ª×›×•× ×•×ª ×¢×™×§×¨×™×•×ª

- ğŸ–¼ï¸ **×¢×•×¨×š ×¢×™×¦×•×‘ ××ª×§×“×** - ×¢×¨×™×›×ª ××¡×’×¨×•×ª ×¢× React Konva
- ğŸ“ **×ª××™×›×” ×‘×©× ×™ ×›×™×•×•× ×™×** - ×¨×•×—×‘ (2500Ã—1875) ×•××•×¨×š (1875Ã—2500)
- ğŸ“§ **×©×œ×™×—×” ×‘××™×™×œ** - ×©×œ×™×—×ª ×¢×™×¦×•×‘×™× ×™×©×™×¨×•×ª ×œ×œ×§×•×— ×•×œ×¦×œ×
- ğŸ”’ **××¡×’×¨×•×ª × ×¢×•×œ×•×ª** - ××¡×’×¨×•×ª × ×¢×•×œ×•×ª ×›×‘×¨×™×¨×ª ××—×“×œ
- ğŸŒ **×“×•-×œ×©×•× ×™** - ×¢×‘×¨×™×ª ×•×× ×’×œ×™×ª
- ğŸ’³ **×× ×•×™×™×** - ×ª××™×›×” ×‘-PayPal ×œ×—×™×•×‘×™× ×—×•×–×¨×™×

## ğŸ—ï¸ ××‘× ×” ×”×¤×¨×•×™×§×˜

```
misgarot-online/
â”œâ”€â”€ frontend/               # React + TypeScript + Vite
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ editor/        # ×¢×•×¨×š ×”×¢×™×¦×•×‘ ×”×¨××©×™
â”‚   â”‚   â”œâ”€â”€ components/    # ×¨×›×™×‘×™× ××©×•×ª×¤×™×
â”‚   â”‚   â”œâ”€â”€ config/        # ×”×’×“×¨×•×ª ×”××¤×œ×™×§×¦×™×”
â”‚   â”‚   â”œâ”€â”€ hooks/         # React hooks
â”‚   â”‚   â”œâ”€â”€ i18n/          # ×ª×¨×’×•××™×
â”‚   â”‚   â”œâ”€â”€ lib/supabase/  # ×—×™×‘×•×¨ Supabase
â”‚   â”‚   â”œâ”€â”€ pages/         # ×“×¤×™ ×”××¤×œ×™×§×¦×™×”
â”‚   â”‚   â””â”€â”€ utils/         # ×¤×•× ×§×¦×™×•×ª ×¢×–×¨
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ backend/                # Node.js + TypeScript API
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ config/        # ×”×’×“×¨×•×ª ××¡×“ × ×ª×•× ×™×
â”‚   â”‚   â”œâ”€â”€ middleware/    # Auth middleware
â”‚   â”‚   â”œâ”€â”€ routes/        # API endpoints
â”‚   â”‚   â””â”€â”€ services/      # ×œ×•×’×™×§×” ×¢×¡×§×™×ª
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ supabase/               # Supabase Edge Functions
â”‚   â”œâ”€â”€ functions/
â”‚   â”‚   â””â”€â”€ send-designs/  # ×©×œ×™×—×ª ××™×™×œ×™×
â”‚   â””â”€â”€ config.toml
â”œâ”€â”€ database/               # ×¡×›××ª ××¡×“ × ×ª×•× ×™×
â”‚   â”œâ”€â”€ supabase_schema.sql
â”‚   â””â”€â”€ storage_setup.sql
â””â”€â”€ shared/                 # ×˜×™×¤×•×¡×™× ××©×•×ª×¤×™×
    â””â”€â”€ types/
```

## ğŸš€ ×”×ª×§× ×” ××”×™×¨×”

### ×“×¨×™×©×•×ª ××§×“×™××•×ª
- Node.js 18+
- ×—×©×‘×•×Ÿ Supabase

### 1. ×”×’×“×¨×ª Supabase

```bash
# ×¦×•×¨ ×¤×¨×•×™×§×˜ ×—×“×© ×‘-Supabase
# https://app.supabase.com

# ×”×¨×¥ ××ª ×”×¡×›××” ×‘-SQL Editor:
# database/supabase_schema.sql
# database/storage_setup.sql
```

### 2. ×”×ª×§× ×ª Frontend

```bash
cd frontend
npm install

# ×”×¢×ª×§ ×•×”×’×“×¨ ××©×ª× ×™ ×¡×‘×™×‘×”
cp .env.example .env.local
# ×¢×¨×•×š ××ª .env.local ×¢× ×”××¤×ª×—×•×ª ×©×œ×š

# ×”×¤×¢×œ ××ª ×”×©×¨×ª
npm run dev
```

### 3. Deploy Edge Functions

```bash
# ×”×ª×§×Ÿ Supabase CLI
npm install -g supabase

# ×”×ª×—×‘×¨
supabase login

# ×”×¢×œ×” ××ª ×”×¤×•× ×§×¦×™×”
supabase functions deploy send-designs
```

## ğŸ”§ ×”×’×“×¨×•×ª

### ×§× ×‘×¡
```typescript
// ×’×“×œ×™ ×™×™×¦×•×
landscape: 2500 Ã— 1875  // ×¨×•×—×‘
portrait: 1875 Ã— 2500   // ××•×¨×š

// ×’×“×œ×™ ×ª×¦×•×’×”
landscape: 800 Ã— 600
portrait: 600 Ã— 800
```

### ×”×¢×œ××•×ª
```typescript
maxFileSize: 4MB
allowedTypes: ['image/png']
```

## ğŸ“¦ Storage Buckets

| Bucket | ×¡×•×’ | ×ª×™××•×¨ |
|--------|-----|-------|
| `frames` | Public | ××¡×’×¨×•×ª ××•×›× ×•×ª |
| `designs` | Private | ×¢×™×¦×•×‘×™× ×©×œ ××©×ª××©×™× |
| `exports` | Public | ×§×‘×¦×™× ×œ×©×œ×™×—×” ×‘××™×™×œ |
| `avatars` | Public | ×ª××•× ×•×ª ×¤×¨×•×¤×™×œ |
| `logos` | Public | ×œ×•×’×•××™× ×©×œ ×¦×œ××™× |

## ï¿½ API

### Supabase Edge Functions

#### send-designs
×©×œ×™×—×ª ×¢×™×¦×•×‘×™× ×‘××™×™×œ ×œ×œ×§×•×— ×•×œ×¦×œ×

```typescript
POST /functions/v1/send-designs

Body: {
  clientName: string,
  clientEmail: string,
  photographerEmail: string,
  landscapeUrl: string,
  portraitUrl: string,
  designName?: string
}
```

## ğŸ‘¥ ×¡×•×’×™ ××©×ª××©×™×

| ×ª×¤×§×™×“ | ×ª×™××•×¨ | ×”×¨×©××•×ª |
|-------|-------|--------|
| **Admin** | ×× ×”×œ ××¢×¨×›×ª | ×’×™×©×” ××œ××”, × ×™×”×•×œ ××¡×’×¨×•×ª ×•×§×˜×’×•×¨×™×•×ª |
| **Photographer** | ×¦×œ× | × ×™×”×•×œ ×œ×§×•×—×•×ª, ×™×¦×™×¨×ª ×¢×™×¦×•×‘×™×, ×©×œ×™×—×” |
| **Client** | ×œ×§×•×— ×§×¦×” | ×¦×¤×™×™×” ×‘×¢×™×¦×•×‘×™× ×©× ×©×œ×—×• |

## ğŸŒ ×©×¤×•×ª

- **×¢×‘×¨×™×ª** (he) - ×©×¤×ª ×‘×¨×™×¨×ª ××—×“×œ, RTL
- **English** (en) - × ×ª××›×ª ×‘××œ×•××”, LTR

## ğŸ“‹ Flow ×¢×™×§×¨×™

1. **×¦×œ×** ×™×•×¦×¨ ×œ×§×•×— ×—×“×©
2. **×œ×§×•×—** ××§×‘×œ ××™××™×™×œ ×¢× ×§×™×©×•×¨ ×œ×¤×•×¨×˜×œ
3. **×œ×§×•×—** ×‘×•×—×¨ ×§×˜×’×•×¨×™×” ×•×ª×‘× ×™×ª
4. **×œ×§×•×—** ××¢×¦×‘ ××ª ×”××’× ×˜ (width)
5. **×”××¢×¨×›×ª** ×™×•×¦×¨×ª ××•×˜×•××˜×™×ª ×’×¨×¡×ª height
6. **×œ×§×•×—** ××ª××™× ××ª ×’×¨×¡×ª ×”-height
7. **×œ×§×•×—** ×©×•×œ×— ××ª ×”×¢×™×¦×•×‘
8. **×¦×œ×** ××§×‘×œ ×”×ª×¨××” ×•×™×›×•×œ ×œ×”×•×¨×™×“ ××ª ×”×§×‘×¦×™×

## ğŸ¨ ××•×“×œ ×”×¢×™×¦×•×‘ (JSON)

×›×œ ×¢×™×¦×•×‘ ××•×¨×›×‘ ××¨×©×™××ª ××œ×× ×˜×™×:

```typescript
interface DesignElement {
  id: string;
  type: 'text' | 'image' | 'shape';
  position: { x: number; y: number };
  size: { width: number; height: number };
  rotation: number;
  zIndex: number;
  opacity: number;
  // ... ×¤×¨×˜×™ ×˜×§×¡×˜/×ª××•× ×”/×¦×•×¨×”
}
```

## ğŸ¤– ×”×›× ×” ×œ-AI (×¢×ª×™×“×™)

×”××‘× ×” ××•×›×Ÿ ×œ×©×™×œ×•×‘ AI:
- ××•×“×œ JSON × ×§×™ ×•××•×‘× ×”
- ×¤×•× ×§×¦×™×•×ª ××•×’×“×¨×•×ª ×œ×©×™× ×•×™ ×¢×™×¦×•×‘×™×
- ×”×¤×¨×“×” ×‘×™×Ÿ ×œ×•×’×™×§×” ×œ×ª×¦×•×’×”

## ğŸ“ ×¨×™×©×™×•×Ÿ

×¤×¨×•×™×§×˜ ×¤×¨×˜×™ - ×›×œ ×”×–×›×•×™×•×ª ×©××•×¨×•×ª
